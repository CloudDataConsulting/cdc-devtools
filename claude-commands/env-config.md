# Migrate to config.yml
We used to manage a lot of secrets using env.sh files and using those to pull secrets out of One Password using the op aka 1password cli.  For a variety of reasons that became overly complicated. Now, we're moving to a config.yml file and we will be storing the project configuration information and for secrets we will have the vault and the name of the secret stored in the config.yml. Then when the application or tool starts it needs to look in the config.yml and then pull the secret out of One Password, similar to what we were doing in the env.sh, but we're not going to store that all in environment variables; it will store it in its memory or its own variable space instead.
From time to time we may still need to load an environement variable, for instance when we use snowsql the snowflake cli, it needs the passprhase for the private key to be in an environment variable call SNOWSQL_PRIVATE_KEY_PASSPHRASE. And dbt needs the same thing in DBT_PRIVATE_KEY_PASSPHRASE.  But as a general rule we want to avoid this.
Review this project or module and determine where environement variables are being used, look for env.sh files for clues as to names, but also review the code for functions that read from the environement variables. Where ever feasible migrate those secrets from the environement variable and the env.sh to the projects config.yml.
Document all relevant configuration information including the 1password vault and item names. In some case we may have secrets for each developer/engineer where the name of the item has the engineers login as a suffix. Which is usually one of the things that is still loaded in the .zshrc as an environement variable.
